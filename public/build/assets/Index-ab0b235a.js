import{h as l,k as W,e as Y,o as T,c as $,b as e,s as K,q as C,a as f,u as g,w as Q,j as d,v as j,t as i,z as D,A as p,F as X}from"./app-45ec4fab.js";import{S as Z}from"./sweetalert2.all-2a96c036.js";import{P as c,D as v,c as ee,s as x,a as I}from"./dataTables.select-0eae1207.js";import{L as S}from"./vue3-datepicker-7c15d454.js";const te={className:"flex justify-center"},oe={className:"w-full"},se={className:"bg-blue-400 border border-blue-400 text-blue-700 px-4 py-3 rounded relative",role:"alert"},le={className:"flex justify-around items-center"},ae=e("i",{className:"fa-solid fa-circle-plus mx-1"},null,-1),ne=e("i",{className:"fa-solid fa-circle-plus mx-1"},null,-1),re=e("i",{className:"fa-solid fa-circle-plus mx-1"},null,-1),de={class:"flex justify-center my-3"},ie={class:"w-full"},ue={class:"bg-gray-400 border border-blue-400 text-blue-700 px-4 py-3 rounded relative",role:"alert"},ce={class:"flex justify-between items-center"},me=e("label",{for:"datepicker",class:"block text-sm font-medium text-gray-700 mr-3"},"Selecciona una fecha",-1),be={class:"flex items-center"},fe=e("button",{type:"button",class:"ml-2 px-4 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:border-blue-700 focus:ring-blue-300"}," Botón ",-1),ge={class:"flex justify-center my-3"},pe={class:"w-full"},ve={class:"bg-gray-400 border border-blue-400 text-blue-700 px-4 py-3 rounded relative",role:"alert"},xe={class:"flex justify-between items-center"},ye=e("label",{for:"startDate",class:"block text-sm font-medium text-gray-700 mr-3"},"Desde",-1),he=e("label",{for:"endDate",class:"block text-sm font-medium text-gray-700 ml-4 mr-3"},"Hasta",-1),_e={className:"border px-10 py-5  border-primary-400 rounded-md   mt-3"},we={className:"md:col-span-12 lg:col-span-12 col-span-12"},ke={class:"overflow-x-auto my-5"},Ne=e("thead",null,[e("tr",null,[e("th",{class:"px-4 py-2"},"Id"),e("th",{class:"px-4 py-2"},"Codigo de Sede"),e("th",{class:"px-4 py-2"},"Mensaje")])],-1),Ce={id:"default-modal",class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 overflow-y-auto"},je={class:"bg-white rounded-lg shadow-lg max-w-md w-full h-full overflow-y-auto"},De={class:"flex items-center justify-between p-4 border-b"},Se={class:"text-xl font-semibold text-gray-900"},Me=e("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),Ee=e("span",{class:"sr-only"},"Cerrar Modal",-1),Re=[Me,Ee],Ve={class:"p-4 space-y-4 overflow-y-auto"},Be={className:"my-2"},Ae={className:"text-xl font-thin mb-4"},Ue={className:"mb-4"},Te=e("label",{for:"plataforma",className:"block mb-1"},"CODIGO SEDE",-1),$e=e("p",{className:"text-sm text-gray-500 mt-1"},"Ingrese el nombre de la plataforma.",-1),Ie={className:"mb-4"},ze=e("label",{for:"plataforma",className:"block mb-1"},"MENSAJE",-1),Oe=e("p",{className:"text-sm text-gray-500 mt-1"},"Ingrese el nombre de la plataforma.",-1),Pe={class:"flex items-center justify-end p-4 border-t"},qe=e("button",{type:"submit",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5"},"Aceptar",-1),Fe={id:"default-modal",class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 overflow-y-auto"},Le={class:"bg-white rounded-lg shadow-lg max-w-md w-full h-full overflow-y-auto"},Ge={class:"flex items-center justify-between p-4 border-b"},He={class:"text-xl font-semibold text-gray-900"},Je=e("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),We=e("span",{class:"sr-only"},"Cerrar Modal",-1),Ye=[Je,We],Ke={class:"p-4 space-y-4 overflow-y-auto"},Qe={className:"my-2"},Xe={className:"text-xl font-thin mb-4"},Ze={className:"mb-4"},et=e("label",{for:"plataforma",className:"block mb-1"},"CODIGO SEDE",-1),tt=e("p",{className:"text-sm text-gray-500 mt-1"},"Ingrese el nombre de la plataforma.",-1),ot={className:"mb-4"},st=e("label",{for:"plataforma",className:"block mb-1"},"MENSAJE",-1),lt=e("p",{className:"text-sm text-gray-500 mt-1"},"Ingrese el nombre de la plataforma.",-1),at={class:"flex items-center justify-end p-4 border-t"},nt=e("button",{type:"submit",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5"},"Aceptar",-1),rt={id:"default-modal",class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 overflow-y-auto"},dt={class:"bg-white rounded-lg shadow-lg max-w-md w-full h-screen-70 overflow-y-auto"},it={class:"flex items-center justify-between p-4 border-b"},ut={class:"text-xl font-semibold text-gray-900"},ct=e("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),mt=e("span",{class:"sr-only"},"Cerrar Modal",-1),bt=[ct,mt],ft={class:"p-4 space-y-4 overflow-y-auto"},gt={class:"my-2"},pt={class:"text-xl font-thin mb-4"},vt=e("div",{class:"mb-4"},[e("label",{for:"documento",class:"block text-sm font-medium text-gray-700"},"Subir documento"),e("input",{type:"file",id:"documento",name:"documento",class:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})],-1),xt={class:"flex items-center justify-end p-4 border-t"},yt=e("button",{type:"submit",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5"},"Subir Documento",-1),Nt={__name:"Index",props:{datos:Array},setup(M){c.use(v),c.use(v);const z=M,a=l(),E=l([]),R=l([]),V=l([]);l(!1);const u=l(!1),y=l(""),h=l([]),m=l(!1),_=l(""),w=l(!1),B=l(new Date),k=l(new Date),N=l(new Date),b=l(!1),O=s=>{h.value=s,b.value=!0,console.log("mensjae de exito")};W(()=>{V.value=z.datos,console.log(V)}),Y(()=>{a.value.dt.on("deselect",L),a.value.dt.on("deselect",A)});const n=l({id:"",codigo_sede:"",mensaje:""}),r=l({id:"",codigo_sede:"",mensaje:""});c.use(v),c.use(v),E.value=[{data:null,render:function(s,t,o,U){return U.row+1}},{data:"codigo_sede"},{data:"mensaje"}],R.value=[{title:"Alertas",extend:"excelHtml5",text:'<i class="fa-solid fa-file-excel"></i> Excel',className:"bg-green-500 text-white px-4 py-2 rounded my-2 hover:bg-green-600 focus:outline-none"},{title:"Alertas",extend:"print",text:'<i class="fa-solid fa-print"></i> PRINT',className:"bg-gray-800 text-white px-4 py-2 rounded my-2 hover:bg-gray-900 focus:outline-none"},{title:"Alertas",extend:"copy",text:'<i class="fa-solid fa-copy"></i> COPY',className:"bg-gray-400 text-white px-4 py-2 rounded my-2 hover:bg-gray-500 focus:outline-none"}];const P=()=>{const s=a.value.dt.rows({selected:!0}).data().toArray();if(s.length>0){const t=s[0].id,o=s[0].plataforma;Z.mixin({buttonStyling:!0}).fire({title:"¿Está seguro de querer borrar el registro "+o+":"+t+"?",icon:"question",showCancelButton:!0,confirmButtonText:'<i class="fa fa-solid fa-check"></i> Sí, borrar',cancelButtonText:'<i class="fa fa-solid fa-times"></i> Cancelar'}).then(J=>{J.isConfirmed&&ee(o,"http://localhost:8000/alerts"+t,"")})}else x("Debe seleccionar una fila antes de poder borrarla","error")},q=s=>{y.value=s,u.value=!0,console.log("mensjae de exito")},F=s=>{if(a.value.dt.rows({selected:!0}).count()===0){x("Debe seleccionar una fila antes de editar","error");return}const o=a.value.dt.rows({selected:!0}).data().toArray()[0];if(!o){x("No se encontraron datos para la fila seleccionada","error");return}r.value.plataforma=o.plataforma,console.log(plataforma),_.value=s,m.value=!0},A=s=>{const t=a.value.dt.rows({selected:!0}).count();w.value=t>0},L=s=>{const t=a.value.dt.rows({selected:!0}).count();w.value=t>0},G=()=>{const s=a.value.dt.rows({selected:!0}).data().toArray();if(s.length>0){const t=s[0];r.value.plataformas=t.plataformas,console.log(r),I("PUT",r.value,"http://localhost:8000/alerts"+id,"")}else x("debe selccionar uan fila antes de poder editarla","error")},H=()=>{n.value.id,n.value.plataforma,I("PUT",n.value,"http://localhost:8000/alerts"+id,""),console.log(n),u.value=!1};return(s,t)=>(T(),$(X,null,[e("div",te,[e("div",oe,[e("div",se,[e("div",le,[w.value?K("",!0):(T(),$("button",{key:0,"data-modal-target":"default-modal",onClick:t[0]||(t[0]=o=>q("Crear")),"data-modal-toggle":"default-modal",className:"block text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",type:"button"}," Crear Registro ")),e("button",{onClick:t[1]||(t[1]=o=>F("Editar")),className:" btn btn-lg block text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",type:"button"},[ae,C("Editar Registro ")]),e("button",{onClick:t[2]||(t[2]=o=>O("Subir Documento en Excel")),className:" btn btn-lg block text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",type:"button"},[ne,C("Subir Excel ")]),e("button",{onClick:t[3]||(t[3]=o=>P()),className:"btn btn-lg block text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",type:"button"},[re,C(" Borrar Registro ")])])])])]),e("div",de,[e("div",ie,[e("div",ue,[e("div",ce,[me,e("div",be,[f(g(S),{modelValue:B.value,"onUpdate:modelValue":t[4]||(t[4]=o=>B.value=o),id:"datepicker",class:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},null,8,["modelValue"]),fe])])])])]),e("div",ge,[e("div",pe,[e("div",ve,[e("div",xe,[ye,f(g(S),{modelValue:k.value,"onUpdate:modelValue":t[5]||(t[5]=o=>k.value=o),id:"startDate",class:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},null,8,["modelValue"]),he,f(g(S),{modelValue:N.value,"onUpdate:modelValue":t[6]||(t[6]=o=>N.value=o),id:"endDate",class:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},null,8,["modelValue"]),e("button",{type:"button",class:"ml-4 px-4 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:border-blue-700 focus:ring-blue-300",onClick:t[7]||(t[7]=o=>s.filterByDates(k.value,N.value))}," Filtrar ")])])])]),e("div",_e,[e("div",we,[e("div",ke,[f(g(c),{data:M.datos,columns:E.value,ref_key:"table",ref:a,class:"display",options:{select:!0,responsive:!0,autoWidth:!1,dom:"Bfrtip",buttons:R.value,pageLength:10},onSelect:A},{default:Q(()=>[Ne]),_:1},8,["data","columns","options"])])])]),d(e("div",Ce,[e("div",je,[e("div",De,[e("h3",Se,i(_.value),1),e("button",{onClick:t[8]||(t[8]=o=>m.value=!1),type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 flex justify-center items-center"},Re)]),e("div",Ve,[e("form",{onSubmit:D(G,["prevent"]),classNaem:"max-w-lg mx-auto border border-gray-300 p-6 my-5 rounded-lg overflow-y-auto"},[e("div",Be,[e("h2",Ae,i(_.value),1)]),e("div",Ue,[Te,d(e("input",{type:"text",id:"plataforma",className:"form-input w-full","onUpdate:modelValue":t[9]||(t[9]=o=>r.value.alertas=o)},null,512),[[p,r.value.alertas]]),$e]),e("div",Ie,[ze,d(e("input",{type:"text",id:"plataforma",className:"form-input w-full","onUpdate:modelValue":t[10]||(t[10]=o=>r.value.alertass=o)},null,512),[[p,r.value.alertass]]),Oe]),e("div",Pe,[qe,e("button",{onClick:t[11]||(t[11]=o=>m.value=!1),type:"button",class:"ml-3 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-lg hover:bg-gray-100 px-5 py-2.5"},"Rechazar")])],32)])])],512),[[j,m.value]]),d(e("div",Fe,[e("div",Le,[e("div",Ge,[e("h3",He,i(y.value),1),e("button",{onClick:t[12]||(t[12]=o=>u.value=!1),type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 flex justify-center items-center"},Ye)]),e("div",Ke,[e("form",{onSubmit:D(H,["prevent"]),classNaem:"max-w-lg mx-auto border border-gray-300 p-6 my-5 rounded-lg overflow-y-auto"},[e("div",Qe,[e("h2",Xe,i(y.value),1)]),e("div",Ze,[et,d(e("input",{type:"text",id:"plataforma",className:"form-input w-full","onUpdate:modelValue":t[13]||(t[13]=o=>n.value.alertas=o)},null,512),[[p,n.value.alertas]]),tt]),e("div",ot,[st,d(e("input",{type:"text",id:"plataforma",className:"form-input w-full","onUpdate:modelValue":t[14]||(t[14]=o=>n.value.alertass=o)},null,512),[[p,n.value.alertass]]),lt]),e("div",at,[nt,e("button",{onClick:t[15]||(t[15]=o=>u.value=!1),type:"button",class:"ml-3 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-lg hover:bg-gray-100 px-5 py-2.5"},"Rechazar")])],32)])])],512),[[j,u.value]]),d(e("div",rt,[e("div",dt,[e("div",it,[e("h3",ut,i(h.value),1),e("button",{onClick:t[16]||(t[16]=o=>b.value=!1),type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 flex justify-center items-center"},bt)]),e("div",ft,[e("form",{onSubmit:t[18]||(t[18]=D((...o)=>s.upload&&s.upload(...o),["prevent"])),enctype:"multipart/form-data",class:"max-w-lg mx-auto border border-gray-300 p-6 my-5 rounded-lg overflow-y-auto"},[e("div",gt,[e("h2",pt,i(h.value),1)]),vt,e("div",xt,[yt,e("button",{onClick:t[17]||(t[17]=o=>b.value=!1),type:"button",class:"ml-3 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-lg hover:bg-gray-100 px-5 py-2.5"},"Rechazar")])],32)])])],512),[[j,b.value]])],64))}};export{Nt as default};
