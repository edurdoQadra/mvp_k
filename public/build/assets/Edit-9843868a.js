import{C,e as N,D as B,o as f,d as h,w as s,a as e,u as l,Z as U,b as o,q as i,i as x,z as $,n as j,c as w,p as y,F as V,t as p}from"./app-45ec4fab.js";import{_ as q}from"./AdminLayout-4a32c7f5.js";import{_,a as k,b as E}from"./TextInput-791d5218.js";import{_ as z}from"./PrimaryButton-fee3ac8a.js";import{s as T}from"./vue-multiselect.css_vue_type_style_index_0_src_true_lang-580256b8.js";import{a as b,b as m,T as D,c}from"./TableDataCell-12a109e2.js";import"./sweetalert2.all-2a96c036.js";import"./_plugin-vue_export-helper-c27b6911.js";const L={class:"max-w-7xl mx-auto mt-4"},F={class:"flex justify-between"},I={class:"max-w-6xl mx-auto mt-6 p-6 bg-slate-100"},M={class:"mt-4"},S={class:"mt-4"},H={class:"mt-4"},O={class:"mt-4"},P={class:"flex items-center justify-end mt-4"},Z={class:"mt-6 max-w-6xl mx-auto bg-slate-100 shadow-lg rounded-lg p-6"},G=o("h1",{class:"text-2xl font-semibold text-indigo-700"},"Roles",-1),J={class:"bg-white"},K={class:"mt-6 max-w-6xl mx-auto bg-slate-100 shadow-lg rounded-lg p-6"},Q=o("h1",{class:"text-2xl font-semibold text-indigo-700"},"Permisos",-1),R={class:"bg-white"},oe={__name:"Edit",props:{user:{type:Object,required:!0},roles:Array,permissions:Array},setup(n){var g,v;const u=n,t=C({name:(g=u.user)==null?void 0:g.name,email:(v=u.user)==null?void 0:v.email,roles:[],permissions:[]}),A=()=>{var d;t.put(route("users.update",(d=u.user)==null?void 0:d.id))};return N(()=>{var d,r;t.permissions=(d=u.user)==null?void 0:d.permissions,t.roles=(r=u.user)==null?void 0:r.roles}),B(()=>u.user,()=>{var d,r;t.permissions=(d=u.user)==null?void 0:d.permissions,t.roles=(r=u.user)==null?void 0:r.roles}),(d,r)=>(f(),h(q,null,{default:s(()=>[e(l(U),{title:"Create user"}),o("div",L,[o("div",F,[e(l(x),{href:d.route("users.index"),class:"px-3 py-2 text-white font-semibold bg-indigo-500 hover:bg-indigo-700 rounded"},{default:s(()=>[i("Atras")]),_:1},8,["href"])])]),o("div",I,[o("form",{onSubmit:$(A,["prevent"])},[o("div",M,[e(_,{for:"name",value:"Name"}),e(k,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:l(t).name,"onUpdate:modelValue":r[0]||(r[0]=a=>l(t).name=a),required:"",autofocus:"",autocomplete:"name"},null,8,["modelValue"]),e(E,{class:"mt-2",message:l(t).errors.name},null,8,["message"])]),o("div",S,[e(_,{for:"email",value:"Email"}),e(k,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:l(t).email,"onUpdate:modelValue":r[1]||(r[1]=a=>l(t).email=a),required:"",autocomplete:"username"},null,8,["modelValue"]),e(E,{class:"mt-2",message:l(t).errors.email},null,8,["message"])]),o("div",H,[e(_,{for:"roles",value:"Roles"}),e(l(T),{modelValue:l(t).roles,"onUpdate:modelValue":r[2]||(r[2]=a=>l(t).roles=a),options:n.roles,multiple:!0,"close-on-select":!0,placeholder:"Pick some",label:"name","track-by":"id"},null,8,["modelValue","options"])]),o("div",O,[e(_,{for:"permissions",value:"Permissions"}),e(l(T),{modelValue:l(t).permissions,"onUpdate:modelValue":r[3]||(r[3]=a=>l(t).permissions=a),options:n.permissions,multiple:!0,"close-on-select":!0,placeholder:"Pick some",label:"name","track-by":"id"},null,8,["modelValue","options"])]),o("div",P,[e(z,{class:j(["ml-4",{"opacity-25":l(t).processing}]),disabled:l(t).processing},{default:s(()=>[i(" Actualizar Usuario ")]),_:1},8,["class","disabled"])])],32)]),o("div",Z,[G,o("div",J,[e(D,null,{header:s(()=>[e(b,null,{default:s(()=>[e(m,null,{default:s(()=>[i("ID")]),_:1}),e(m,null,{default:s(()=>[i("Name")]),_:1}),e(m,null,{default:s(()=>[i("Action")]),_:1})]),_:1})]),default:s(()=>[(f(!0),w(V,null,y(n.user.roles,a=>(f(),h(b,{key:a.id,class:"border-b"},{default:s(()=>[e(c,null,{default:s(()=>[i(p(a.id),1)]),_:2},1024),e(c,null,{default:s(()=>[i(p(a.name),1)]),_:2},1024),e(c,{class:"space-x-4"},{default:s(()=>[e(l(x),{href:d.route("users.roles.destroy",[n.user.id,a.id]),method:"DELETE",as:"button",class:"text-red-400 hover:text-red-600","preserve-scroll":""},{default:s(()=>[i("Dar de Baja")]),_:2},1032,["href"])]),_:2},1024)]),_:2},1024))),128))]),_:1})])]),o("div",K,[Q,o("div",R,[e(D,null,{header:s(()=>[e(b,null,{default:s(()=>[e(m,null,{default:s(()=>[i("ID")]),_:1}),e(m,null,{default:s(()=>[i("Nombre")]),_:1}),e(m,null,{default:s(()=>[i("AcciÃ³n")]),_:1})]),_:1})]),default:s(()=>[(f(!0),w(V,null,y(n.user.permissions,a=>(f(),h(b,{key:a.id,class:"border-b"},{default:s(()=>[e(c,null,{default:s(()=>[i(p(a.id),1)]),_:2},1024),e(c,null,{default:s(()=>[i(p(a.name),1)]),_:2},1024),e(c,{class:"space-x-4"},{default:s(()=>[e(l(x),{href:d.route("users.permissions.destroy",[n.user.id,a.id]),method:"DELETE",as:"button",class:"text-red-400 hover:text-red-600","preserve-scroll":""},{default:s(()=>[i("Eliminar")]),_:2},1032,["href"])]),_:2},1024)]),_:2},1024))),128))]),_:1})])])]),_:1}))}};export{oe as default};
